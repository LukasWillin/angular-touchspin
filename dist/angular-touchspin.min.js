/*! angular-touchspin v1.0.4 | MIT | built with ♥ by Niko Kovačič <niko.kovacic2@gmail.com>*/
!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports["angular-touchspin"]=n():t["angular-touchspin"]=n()}(this,function(){return function(t){function n(i){if(e[i])return e[i].exports;var o=e[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){t.exports=e(3)},function(t,n){},function(t,n){t.exports='<div class="input-group bootstrap-touchspin"><span class=input-group-btn ng-if=!vm.touchSpinOptions.verticalButtons><button ng-class=vm.touchSpinOptions.buttonDownClass ng-mousedown=vm.startSpinDown() ng-mouseup=vm.stopSpin()>-</button></span> <span class=input-group-addon ng-if=vm.touchSpinOptions.prefix ng-bind=vm.touchSpinOptions.prefix></span> <input ng-model=vm.val class=form-control ng-blur=vm.checkValue() ng-focus="vm.focus()"> <span class=input-group-addon ng-class=vm.touchSpinOptions.postfixExtraClass ng-if=vm.touchSpinOptions.postfix ng-bind=vm.touchSpinOptions.postfix></span> <span class=input-group-btn ng-if=!vm.touchSpinOptions.verticalButtons><button class="btn btn-default" ng-class=vm.touchSpinOptions.buttonUpClass ng-mousedown=vm.startSpinUp() ng-mouseup=vm.stopSpin()>+</button></span> <span class=input-group-btn-vertical ng-if=vm.touchSpinOptions.verticalButtons><button class=bootstrap-touchspin-down ng-class=vm.touchSpinOptions.buttonUpClass ng-mousedown=vm.startSpinDown() ng-mouseup=vm.stopSpin() type=button><i ng-class=vm.touchSpinOptions.verticalUpClass></i></button> <button class=bootstrap-touchspin-up ng-class=vm.touchSpinOptions.buttonUpClass ng-mousedown=vm.startSpinUp() ng-mouseup=vm.stopSpin() type=button><i ng-class=vm.touchSpinOptions.verticalDownClass></i></button></span></div>'},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(7),o=e(5),s=e(6);n["default"]=i.AngularES6.module("lm.touchspin").directive("touchSpin",o.TouchSpinDirective).provider("touchSpinConfig",s.TouchSpinConfig).name,t.exports=n["default"]},function(t,n){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),o=function(){function t(n,i,o,s,r){"ngInject";e(this,t),this.$element=n,this.$attrs=i,this.$interval=o,this.$timeout=s,this.touchSpinConfig=r,this.inputElement=this.$element.find("input"),this.prepareNgModel(),this.prepareOptions(),this.initializeEvents()}return t.$inject=["$element","$attrs","$interval","$timeout","touchSpinConfig"],i(t,[{key:"startSpinUp",value:function(){var t=this;this.checkValue(),this.increment(),this.clickStart=Date.now(),this.stopSpin(),this.$timeout(function(){t.timer=t.$interval(function(){t.increment()},t.touchSpinOptions.stepInterval)},this.touchSpinOptions.stepIntervalDelay)}},{key:"startSpinDown",value:function(){var t=this;this.checkValue(),this.decrement(),this.clickStart=Date.now(),this.timeout=this.$timeout(function(){t.timer=t.$interval(function(){t.decrement()},t.touchSpinOptions.stepInterval)},this.touchSpinOptions.stepIntervalDelay)}},{key:"stopSpin",value:function(){var t=this;Date.now()-this.clickStart>this.touchSpinOptions.stepIntervalDelay?(this.$timeout.cancel(this.timeout),this.$interval.cancel(this.timer)):this.$timeout(function(){t.$timeout.cancel(t.timeout),t.$interval.cancel(t.timer)},this.touchSpinOptions.stepIntervalDelay)}},{key:"checkValue",value:function(){if(this.ngModelController.$isEmpty(this.val))this.changeValue(this.touchSpinOptions.min);else if(this.val.match(/^-?(?:\d+|\d*\.\d+)$/i)){var t=parseFloat(this.val);t>this.touchSpinOptions.max?this.changeValue(this.touchSpinOptions.max):t<this.touchSpinOptions.min?this.changeValue(this.touchSpinOptions.min):this.changeValue(t)}else""!==this.oldVal?this.changeValue(parseFloat(this.oldVal)):this.changeValue(this.touchSpinOptions.min);this.focused=!1}},{key:"focus",value:function(){this.focused=!0}},{key:"initializeEvents",value:function(){var t=this;this.inputElement.on("mousewheel DOMMouseScroll",function(n){if(t.touchSpinOptions.mousewheel){var e=angular.isUndefined(n.originalEvent)?n.wheelDelta||-n.wheelDeltaY||-n.detail:n.originalEvent.wheelDelta||-n.originalEvent.wheelDeltaY||-n.originalEvent.detail;n.stopPropagation(),n.preventDefault(),0>e?t.decrement():t.increment()}})}},{key:"prepareNgModel",value:function(){var t=this;this.ngModelController=this.$element.controller("ngModel"),this.ngModelController.$formatters.push(function(n){return angular.isNumber(n)&&!t.ngModelController.$isEmpty(n)&&(t.val=n.toFixed(t.touchSpinOptions.decimals)),n})}},{key:"prepareOptions",value:function(){this.touchSpinOptions=angular.extend({},this.touchSpinConfig,this.options);var t=this.ngModelController.$modelValue||this.touchSpinOptions.initVal||this.touchSpinOptions.min;this.changeValue(t,!0)}},{key:"changeValue",value:function(t,n){var e=this,i=Math.pow(10,this.touchSpinOptions.decimals);t=Math.round(t*i)/i,this.val=t.toFixed(this.touchSpinOptions.decimals),this.ngModelController.$setViewValue(t),!n&&this.$attrs.onChange&&this.$timeout(function(){e.onChange({value:t})})}},{key:"decrement",value:function(){this.oldVal=this.val;var t=parseFloat(this.val)-this.touchSpinOptions.step;return t<this.touchSpinOptions.min?void this.changeValue(this.touchSpinOptions.min):void this.changeValue(t)}},{key:"increment",value:function(){this.oldVal=this.val;var t=parseFloat(this.val)+this.touchSpinOptions.step;return t>this.touchSpinOptions.max?void this.changeValue(this.touchSpinOptions.max):void this.changeValue(t)}}]),t}();n.TouchSpinController=o},function(t,n,e){"use strict";function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),e(1);var o=e(4),s=function r(){i(this,r),this.restrict="EA",this.require="^ngModel",this.scope={},this.bindToController={onChange:"&",options:"=?"},this.controller=o.TouchSpinController,this.controllerAs="vm",this.template=e(2)};n.TouchSpinDirective=s},function(t,n){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),o=function(){function t(){e(this,t),this.defaultTouchSpinOptions={buttonDownClass:"btn btn-default",buttonUpClass:"btn btn-default",decimals:0,max:100,min:0,step:1,initVal:0,mousewheel:!0,prefix:"",postfix:"",stepInterval:100,stepIntervalDelay:500,verticalButtons:!1,verticalDownClass:"glyphicon glyphicon-chevron-down",verticalUpClass:"glyphicon glyphicon-chevron-up"}}return i(t,[{key:"defaults",value:function(t){this.defaultTouchSpinOptions=angular.extend({},this.defaultTouchSpinOptions,t)}},{key:"$get",value:function(){return this.defaultTouchSpinOptions}}]),t}();n.TouchSpinConfig=o},function(t,n){"use strict";function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=Function.prototype.bind,o=function(){function t(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,e,i){return e&&t(n.prototype,e),i&&t(n,i),n}}(),s=function(){function t(n,i){e(this,t),i=i||[],this.name=n,this.angularModule=angular.module(n,i)}return o(t,[{key:"constant",value:function(t,n){return this.angularModule.constant(t,n),this}},{key:"config",value:function(t){return this.angularModule.config(t),this}},{key:"controller",value:function(t,n){return this.angularModule.controller(t,n),this}},{key:"directive",value:function(t,n){var e=this.normalizeConstructor(n);e.prototype.compile||(e.prototype.compile=function(){});var i=this.cloneFunction(e.prototype.compile);this.override(e.prototype,"compile",function(){return function(){return i.apply(this,arguments),e.prototype.link?e.prototype.link.bind(this):void 0}});var o=this.createFactoryArray(n);return this.angularModule.directive(t,o),this}},{key:"factory",value:function(t,n){n=this.normalizeConstructor(n);var e=this.createFactoryArray(n);return this.angularModule.factory(t,e),this}},{key:"filter",value:function(t,n){var e=this.createFilterArray(n);return this.angularModule.filter(t,e),this}},{key:"service",value:function(t,n){return this.angularModule.service(t,n),this}},{key:"provider",value:function(t,n){return this.angularModule.provider(t,n),this}},{key:"run",value:function(t){return this.angularModule.run(t),this}},{key:"normalizeConstructor",value:function(t){var n=void 0;if(angular.isArray(t.constructor)){var e=t.slice(0,t.length-1);n=t[t.length-1],n.$inject=e}else n=t;return n}},{key:"createFactoryArray",value:function(t){var n=t.$inject||[],e=n.slice();return e.push(function(){for(var n=arguments.length,e=Array(n),o=0;n>o;o++)e[o]=arguments[o];var s=new(i.apply(t,[null].concat(e)));return s}),e}},{key:"createFilterArray",value:function(t){var n=t.$inject||[],e=n.slice();return e.push(function(){for(var n=arguments.length,e=Array(n),o=0;n>o;o++)e[o]=arguments[o];var s=new(i.apply(t,[null].concat(e)));return s.filter}),e}},{key:"cloneFunction",value:function(t){return function(){return t.apply(this,arguments)}}},{key:"override",value:function(t,n,e){t[n]=e(t[n])}}],[{key:"module",value:function(n,e){return e=e||[],new t(n,e)}}]),t}();n.AngularES6=s}])});